{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\n\nvar Address = function () {\n  function Address(latitude, longitude, postalCode, number, street, neighborhood, city, state, country, countryCode, updatedAt, createdAt) {\n    _classCallCheck(this, Address);\n\n    this.latitude = latitude;\n    this.longitude = longitude;\n    this.postalCode = postalCode;\n    this.number = number;\n    this.street = street;\n    this.neighborhood = neighborhood;\n    this.city = city;\n    this.state = state;\n    this.country = country;\n    this.countryCode = countryCode;\n    this.updatedAt = updatedAt;\n    this.createdAt = createdAt;\n  }\n\n  _createClass(Address, [{\n    key: \"toJson\",\n    value: function toJson() {\n      return {\n        latitude: this == null ? void 0 : this.latitude,\n        longitude: this == null ? void 0 : this.longitude,\n        postalCode: this == null ? void 0 : this.postalCode,\n        number: this == null ? void 0 : this.number,\n        street: this == null ? void 0 : this.street,\n        neighborhood: this == null ? void 0 : this.neighborhood,\n        city: this == null ? void 0 : this.city,\n        state: this == null ? void 0 : this.state,\n        country: this == null ? void 0 : this.country,\n        countryCode: this == null ? void 0 : this.countryCode,\n        updatedAt: this == null ? void 0 : this.updatedAt,\n        createdAt: this == null ? void 0 : this.createdAt\n      };\n    }\n  }, {\n    key: \"format\",\n    value: function format(pattern) {\n      var _this$number, _this$city, _this$state, _this$country, _this$neighborhood, _this$street, _this$countryCode;\n\n      return pattern.replace(new RegExp('%n'), (_this$number = this == null ? void 0 : this.number) != null ? _this$number : '').replace(new RegExp('%c'), (_this$city = this == null ? void 0 : this.city) != null ? _this$city : '').replace(new RegExp('%S'), (_this$state = this == null ? void 0 : this.state) != null ? _this$state : '').replace(new RegExp('%C'), (_this$country = this == null ? void 0 : this.country) != null ? _this$country : '').replace(new RegExp('%N'), (_this$neighborhood = this == null ? void 0 : this.neighborhood) != null ? _this$neighborhood : '').replace(new RegExp('%s'), (_this$street = this == null ? void 0 : this.street) != null ? _this$street : '').replace(new RegExp('%cc'), (_this$countryCode = this == null ? void 0 : this.countryCode) != null ? _this$countryCode : '');\n    }\n  }, {\n    key: \"getDistanceBetween\",\n    value: function getDistanceBetween(address) {\n      var toRadians = function toRadians(deg) {\n        return deg * Math.PI / 180;\n      };\n\n      var lat = toRadians(address.latitude - this.latitude),\n          lng = toRadians(address.longitude - this.latitude);\n      var a = Math.sin(lat / 2) * Math.sin(lat / 2) + Math.cos(toRadians(this.latitude)) * Math.cos(toRadians(address.latitude)) * Math.sin(lng / 2) * Math.sin(lng / 2);\n      return 6371 * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)));\n    }\n  }], [{\n    key: \"fromJson\",\n    value: function fromJson(json) {\n      return new Address(json == null ? void 0 : json.latitude, json == null ? void 0 : json.longitude, json == null ? void 0 : json.postalCode, json == null ? void 0 : json.number, json == null ? void 0 : json.street, json == null ? void 0 : json.neighborhood, json == null ? void 0 : json.city, json == null ? void 0 : json.state, json == null ? void 0 : json.country, json == null ? void 0 : json.countryCode, new Date(json == null ? void 0 : json.updatedAt), new Date(json == null ? void 0 : json.createdAt));\n    }\n  }, {\n    key: \"fromGeocoder\",\n    value: function fromGeocoder(geoData) {\n      var _geoData$components, _geoData$components2, _geoData$components3, _geoData$components4, _geoData$components5, _geoData$components6, _geoData$components7, _geoData$components8;\n\n      var now = new Date();\n      return new Address(geoData.geometry.lat, geoData.geometry.lng, (_geoData$components = geoData.components) == null ? void 0 : _geoData$components.postcode, (_geoData$components2 = geoData.components) == null ? void 0 : _geoData$components2.house_number, (_geoData$components3 = geoData.components) == null ? void 0 : _geoData$components3.road, (_geoData$components4 = geoData.components) == null ? void 0 : _geoData$components4.suburb, (_geoData$components5 = geoData.components) == null ? void 0 : _geoData$components5.city, (_geoData$components6 = geoData.components) == null ? void 0 : _geoData$components6.state, (_geoData$components7 = geoData.components) == null ? void 0 : _geoData$components7.country, (_geoData$components8 = geoData.components) == null ? void 0 : _geoData$components8.country_code, now, now);\n    }\n  }]);\n\n  return Address;\n}();\n\nexport { Address as default };","map":{"version":3,"sources":["C:/Users/robson/Desktop/ifood-react-native/app/src/models/Address/model.ts"],"names":["Address","latitude","longitude","postalCode","number","street","neighborhood","city","state","country","countryCode","updatedAt","createdAt","pattern","replace","RegExp","address","toRadians","deg","Math","PI","lat","lng","a","sin","cos","atan2","sqrt","json","Date","geoData","now","geometry","components","postcode","house_number","road","suburb","country_code"],"mappings":"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","sourcesContent":["export default class Address {\r\n  public latitude!: number;\r\n  public longitude!: number;\r\n  public postalCode?: string;\r\n  public number?: string;\r\n  public street?: string;\r\n  public neighborhood?: string;\r\n  public city?: string;\r\n  public state?: string;\r\n  public country?: string;\r\n  public countryCode?: string;\r\n  public updatedAt?: Date;\r\n  public createdAt?: Date;\r\n\r\n  public constructor(\r\n    latitude: number,\r\n    longitude: number,\r\n    postalCode: string,\r\n    number: string,\r\n    street: string,\r\n    neighborhood: string,\r\n    city: string,\r\n    state: string,\r\n    country: string,\r\n    countryCode: string,\r\n    updatedAt: Date,\r\n    createdAt: Date\r\n  ) {\r\n    this.latitude = latitude;\r\n    this.longitude = longitude;\r\n    this.postalCode = postalCode;\r\n    this.number = number;\r\n    this.street = street;\r\n    this.neighborhood = neighborhood;\r\n    this.city = city;\r\n    this.state = state;\r\n    this.country = country;\r\n    this.countryCode = countryCode;\r\n    this.updatedAt = updatedAt;\r\n    this.createdAt = createdAt;\r\n  }\r\n\r\n  public static fromJson(json: any) : Address {\r\n    return new Address(\r\n      json?.latitude,\r\n      json?.longitude,\r\n      json?.postalCode,\r\n      json?.number,\r\n      json?.street,\r\n      json?.neighborhood,\r\n      json?.city,\r\n      json?.state,\r\n      json?.country,\r\n      json?.countryCode,\r\n      new Date(json?.updatedAt),\r\n      new Date(json?.createdAt)\r\n    );\r\n  }\r\n\r\n  public toJson() : Object {\r\n    return {\r\n      latitude: this?.latitude,\r\n      longitude: this?.longitude,\r\n      postalCode: this?.postalCode,\r\n      number: this?.number,\r\n      street: this?.street,\r\n      neighborhood: this?.neighborhood,\r\n      city: this?.city,\r\n      state: this?.state,\r\n      country: this?.country,\r\n      countryCode: this?.countryCode,\r\n      updatedAt: this?.updatedAt,\r\n      createdAt: this?.createdAt\r\n    };\r\n  }\r\n\r\n  public static fromGeocoder(geoData: any) : Address {\r\n    const now = new Date();\r\n\r\n    return new Address(\r\n      geoData.geometry.lat,\r\n      geoData.geometry.lng,\r\n      geoData.components?.postcode,\r\n      geoData.components?.house_number,\r\n      geoData.components?.road,\r\n      geoData.components?.suburb,\r\n      geoData.components?.city,\r\n      geoData.components?.state,\r\n      geoData.components?.country,\r\n      geoData.components?.country_code,\r\n      now, \r\n      now\r\n    );\r\n  }\r\n\r\n  public format(pattern: string) : string {\r\n    return pattern.replace(new RegExp('%n'), this?.number ?? '')\r\n                  .replace(new RegExp('%c'), this?.city ?? '')\r\n                  .replace(new RegExp('%S'), this?.state ?? '')\r\n                  .replace(new RegExp('%C'), this?.country ?? '')\r\n                  .replace(new RegExp('%N'), this?.neighborhood ?? '')\r\n                  .replace(new RegExp('%s'), this?.street ?? '')\r\n                  .replace(new RegExp('%cc'), this?.countryCode ?? '');\r\n  }\r\n\r\n  // A fórmula de Haversine me retorna me retorna a distância entre dois pontos.\r\n  // https://en.wikipedia.org/wiki/Haversine_formula\r\n  public getDistanceBetween(address: Address) {\r\n    const toRadians = (deg : number) => {\r\n      return deg * Math.PI / 180;\r\n    }\r\n\r\n    const lat: number = toRadians(address.latitude - this.latitude),\r\n          lng: number = toRadians(address.longitude - this.latitude);\r\n\r\n    const a: number = Math.sin(lat / 2) * Math.sin(lat / 2) +\r\n                       Math.cos(toRadians(this.latitude)) * Math.cos(toRadians(address.latitude)) *\r\n                       Math.sin(lng / 2) * Math.sin(lng / 2);\r\n    return 6371 * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)));\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}